<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retro Console Emulator Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    background: #0d0d0d;
    color: #00ff00;
    font-family: 'Press Start 2P', monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    text-align: center;
    padding: 1rem;
    background: #111;
    width: 100%;
    border-bottom: 2px solid #00ff00;
  }
  h1 {
    margin: 0;
    font-size: 1.5rem;
  }
  .game-selector {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin: 1rem 0;
  }
  .game-button {
    background: #111;
    color: #00ff00;
    border: 2px solid #00ff00;
    margin: 0.5rem;
    padding: 0.5rem 1rem;
    cursor: pointer;
    transition: 0.2s;
  }
  .game-button:hover {
    background: #00ff00;
    color: #111;
  }
  #emulator-container {
    width: 800px;
    height: 600px;
    max-width: 95vw;
    max-height: 80vh;
    border: 2px solid #00ff00;
    background: black;
  }
  input[type="file"] {
    margin: 1rem 0;
    color: #00ff00;
  }
</style>
</head>
<body>

<header>
  <h1>Retro Console Emulator Hub</h1>
</header>

<div class="game-selector">
  <button class="game-button" onclick="loadEmulator('nes')">NES</button>
  <button class="game-button" onclick="loadEmulator('snes')">SNES</button>
  <button class="game-button" onclick="loadEmulator('gb')">Game Boy</button>
  <button class="game-button" onclick="loadEmulator('gba')">GBA</button>
  <button class="game-button" onclick="loadEmulator('genesis')">Genesis</button>
  <button class="game-button" onclick="loadEmulator('n64')">N64</button>
  <button class="game-button" onclick="loadEmulator('psx')">PSX</button>
  <button class="game-button" onclick="loadEmulator('pce')">PC Engine</button>
  <button class="game-button" onclick="loadEmulator('sms')">Sega Master System</button>
  <button class="game-button" onclick="loadEmulator('gg')">Game Gear</button>
  <!-- Add more consoles as needed -->
</div>

<input type="file" id="romFile" />

<div id="emulator-container">
  <p style="color:#00ff00; text-align:center; padding-top: 2rem;">Upload a ROM or select a console above to start.</p>
</div>

<!-- EmulatorJS CDN -->
<script src="https://cdn.jsdelivr.net/gh/emulatorjs/emulatorjs@latest/dist/emulator.min.js"></script>

<script>
let emulatorInstance = null;

function loadEmulator(consoleType) {
  const romFile = document.getElementById('romFile').files[0];
  if (!romFile) {
    alert("Please select a ROM file to play.");
    return;
  }

  const romUrl = URL.createObjectURL(romFile);

  // Clear previous emulator
  if (emulatorInstance) {
    emulatorInstance.destroy();
    emulatorInstance = null;
  }
  
  // Initialize EmulatorJS
  emulatorInstance = new EmulatorJS({
    type: consoleType,
    rom: romUrl,
    canvas: document.getElementById('emulator-container'),
    audio: true,
  });
}
</script>

</body>
</html>
