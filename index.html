<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retro Console Emulator Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body { margin: 0; background: #0d0d0d; color: #00ff00; font-family: 'Press Start 2P', monospace; text-align:center; }
  header { padding: 1rem; background: #111; border-bottom: 2px solid #00ff00; }
  .console-btn { margin: 0.5rem; padding: 0.5rem 1rem; border: 2px solid #00ff00; background:#111; color:#00ff00; cursor:pointer; }
  .console-btn:hover { background:#00ff00; color:#111; }
  #game { width: 80vw; height: 60vh; border:2px solid #00ff00; margin-top:1rem; }
</style>
</head>
<body>

<header><h1>Retro Emulator Hub</h1></header>

<input type="file" id="romFile" accept=".zip,.nes,.sfc,.gba,.gb,.gba,.bin,.iso,.z64,.v64" />

<div>
  <button class="console-btn" onclick="startEmu('nes')">NES</button>
  <button class="console-btn" onclick="startEmu('snes')">SNES</button>
  <button class="console-btn" onclick="startEmu('gba')">GBA</button>
  <button class="console-btn" onclick="startEmu('n64')">N64</button>
  <button class="console-btn" onclick="startEmu('psx')">PSX</button>
  <!-- add more buttons -->
</div>

<div id="game"></div>

<script>
function startEmu(core) {
  const file = document.getElementById("romFile").files[0];
  if (!file) { alert("Select a ROM first!"); return; }

  // Create a URL for the ROM file
  const romURL = URL.createObjectURL(file);

  // EmulatorJS config
  window.EJS_player  = "#game";
  window.EJS_gameUrl = romURL;
  window.EJS_core    = core;
  window.EJS_pathtodata = "https://cdn.emulatorjs.org/stable/data/";

  // Load the emulator loader script
  const script = document.createElement("script");
  script.src = "https://cdn.emulatorjs.org/stable/data/loader.js";
  script.onload = () => console.log("EmulatorJS loaded");
  document.body.appendChild(script);
}
</script>

</body>
</html>
